import express from "express";
const app = express();

import bodyParser from "body-parser";
app.use(bodyParser.json());

import cors from "cors";
app.use(cors());

const END_POINT = "http://3.35.115.130:8000";

import axios from "axios";
const api = axios.create({
  baseURL: END_POINT,
  timeout: 1000,
});

app.get("/topic", async function (req, res) {
  try {
    const r = await api.get("/topic");
    res.send(r.data);
  } catch {
    res.send(SAMPLE_DATA);
  }
});

app.get("/", async function (req, res) {
  res.send("hello~");
});

app.listen(3300, function () {});

const SAMPLE_DATA = [
  {
    id: 64,
    keyword: "장관",
    male: 63,
    female: 37,
    age_10: 2,
    age_20: 5,
    age_30: 19,
    age_40: 65,
    age_50: 45,
    age_60: 38,
  },
  {
    id: 65,
    keyword: "당선인",
    male: 73,
    female: 27,
    age_10: 0,
    age_20: 5,
    age_30: 31,
    age_40: 54,
    age_50: 47,
    age_60: 37,
  },
  {
    id: 66,
    keyword: "후보자",
    male: 70,
    female: 30,
    age_10: 0,
    age_20: 3,
    age_30: 17,
    age_40: 52,
    age_50: 51,
    age_60: 51,
  },
  {
    id: 67,
    keyword: "입학",
    male: 46,
    female: 54,
    age_10: 0,
    age_20: 7,
    age_30: 17,
    age_40: 75,
    age_50: 49,
    age_60: 26,
  },
  {
    id: 68,
    keyword: "정책",
    male: 57,
    female: 43,
    age_10: 2,
    age_20: 5,
    age_30: 16,
    age_40: 65,
    age_50: 58,
    age_60: 31,
  },
  {
    id: 69,
    keyword: "대통령",
    male: 54,
    female: 46,
    age_10: 3,
    age_20: 7,
    age_30: 24,
    age_40: 73,
    age_50: 44,
    age_60: 23,
  },
  {
    id: 70,
    keyword: "교수",
    male: 61,
    female: 39,
    age_10: 3,
    age_20: 5,
    age_30: 14,
    age_40: 56,
    age_50: 52,
    age_60: 42,
  },
  {
    id: 71,
    keyword: "우크라이나",
    male: 78,
    female: 22,
    age_10: 0,
    age_20: 2,
    age_30: 12,
    age_40: 61,
    age_50: 66,
    age_60: 31,
  },
  {
    id: 72,
    keyword: "이송",
    male: 67,
    female: 33,
    age_10: 0,
    age_20: 3,
    age_30: 17,
    age_40: 66,
    age_50: 59,
    age_60: 28,
  },
  {
    id: 73,
    keyword: "중국",
    male: 67,
    female: 33,
    age_10: 2,
    age_20: 7,
    age_30: 21,
    age_40: 66,
    age_50: 47,
    age_60: 31,
  },
  {
    id: 74,
    keyword: "여성",
    male: 46,
    female: 54,
    age_10: 2,
    age_20: 12,
    age_30: 21,
    age_40: 51,
    age_50: 58,
    age_60: 31,
  },
  {
    id: 75,
    keyword: "인수위",
    male: 67,
    female: 33,
    age_10: 0,
    age_20: 3,
    age_30: 16,
    age_40: 61,
    age_50: 59,
    age_60: 35,
  },
  {
    id: 76,
    keyword: "의원",
    male: 60,
    female: 40,
    age_10: 0,
    age_20: 2,
    age_30: 14,
    age_40: 72,
    age_50: 58,
    age_60: 30,
  },
  {
    id: 77,
    keyword: "러시아",
    male: 76,
    female: 24,
    age_10: 0,
    age_20: 3,
    age_30: 23,
    age_40: 84,
    age_50: 45,
    age_60: 17,
  },
  {
    id: 78,
    keyword: "입시",
    male: 43,
    female: 57,
    age_10: 7,
    age_20: 5,
    age_30: 16,
    age_40: 77,
    age_50: 54,
    age_60: 16,
  },
  {
    id: 79,
    keyword: "대구",
    male: 60,
    female: 40,
    age_10: 2,
    age_20: 7,
    age_30: 21,
    age_40: 77,
    age_50: 49,
    age_60: 21,
  },
  {
    id: 80,
    keyword: "검찰",
    male: 78,
    female: 22,
    age_10: 0,
    age_20: 7,
    age_30: 19,
    age_40: 72,
    age_50: 56,
    age_60: 23,
  },
  {
    id: 81,
    keyword: "조씨",
    male: 69,
    female: 31,
    age_10: 2,
    age_20: 5,
    age_30: 19,
    age_40: 58,
    age_50: 54,
    age_60: 38,
  },
  {
    id: 82,
    keyword: "이은해",
    male: 51,
    female: 49,
    age_10: 0,
    age_20: 2,
    age_30: 23,
    age_40: 82,
    age_50: 49,
    age_60: 19,
  },
  {
    id: 83,
    keyword: "윤씨",
    male: 72,
    female: 28,
    age_10: 0,
    age_20: 5,
    age_30: 16,
    age_40: 63,
    age_50: 58,
    age_60: 35,
  },
  {
    id: 84,
    keyword: "내정",
    male: 72,
    female: 28,
    age_10: 2,
    age_20: 10,
    age_30: 16,
    age_40: 58,
    age_50: 72,
    age_60: 19,
  },
  {
    id: 85,
    keyword: "한국",
    male: 67,
    female: 33,
    age_10: 2,
    age_20: 3,
    age_30: 16,
    age_40: 59,
    age_50: 56,
    age_60: 37,
  },
  {
    id: 86,
    keyword: "민씨",
    male: 73,
    female: 27,
    age_10: 2,
    age_20: 2,
    age_30: 12,
    age_40: 58,
    age_50: 59,
    age_60: 40,
  },
  {
    id: 87,
    keyword: "후보",
    male: 77,
    female: 23,
    age_10: 2,
    age_20: 7,
    age_30: 14,
    age_40: 58,
    age_50: 44,
    age_60: 52,
  },
  {
    id: 88,
    keyword: "양육비",
    male: 51,
    female: 49,
    age_10: 0,
    age_20: 2,
    age_30: 16,
    age_40: 107,
    age_50: 33,
    age_60: 16,
  },
  {
    id: 89,
    keyword: "지명",
    male: 48,
    female: 52,
    age_10: 0,
    age_20: 3,
    age_30: 16,
    age_40: 68,
    age_50: 52,
    age_60: 35,
  },
  {
    id: 90,
    keyword: "인선",
    male: 68,
    female: 32,
    age_10: 0,
    age_20: 3,
    age_30: 14,
    age_40: 65,
    age_50: 61,
    age_60: 31,
  },
  {
    id: 91,
    keyword: "자금",
    male: 61,
    female: 39,
    age_10: 5,
    age_20: 5,
    age_30: 26,
    age_40: 56,
    age_50: 47,
    age_60: 33,
  },
  {
    id: 92,
    keyword: "당선자",
    male: 72,
    female: 28,
    age_10: 0,
    age_20: 2,
    age_30: 10,
    age_40: 45,
    age_50: 65,
    age_60: 52,
  },
  {
    id: 93,
    keyword: "개막전",
    male: 76,
    female: 24,
    age_10: 3,
    age_20: 10,
    age_30: 31,
    age_40: 70,
    age_50: 47,
    age_60: 14,
  },
];
